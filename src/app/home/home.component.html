<div>
  <h1>Hi {{currentUser.firstName}}!</h1>

  <div *ngIf="currentUser.role === 'admin'">
    <h3>All registered users:</h3>
    <ul>
      <li *ngFor="let user of users">
        {{user.username}} ({{user.firstName}} {{user.lastName}}): {{user.role}}
        - <a (click)="deleteUser(user.id)" class="text-danger">Delete</a>
      </li>
    </ul>
  </div>

  <div>
    <h3>All listings</h3>

    <div *ngIf="!listings || !listings.length">No listings are available</div>

    <div *ngIf="listings && listings.length">
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col">City</th>
          <th scope="col">Street</th>
          <th></th>
        </tr>
        </thead>
        <tbody>

        <tr *ngFor="let listing of listings; index as i">
          <th scope="row">{{ listing.listing_id }}</th>
          <td>{{ listing.listing_title }}</td>
          <td>{{ listing.description }}</td>
          <td>{{ listing.city }}</td>
          <td>{{ listing.street }}</td>
          <td (click)="deleteListing(listing.listing_id)">Delete</td>
        </tr>
        </tbody>
      </table>
    </div>

    <br>

    <div>
      <button (click)="createListing()">Add listing</button>
    </div>

  </div>
</div>